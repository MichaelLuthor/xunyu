# 荀彧Chrome浏览器扩展

荀彧浏览器扩展主要用于录制测试脚本。



**支持的录制动作**

- [x] 点击 ：录制鼠标点击命令。
- [x] 输入 ：当点击元素为文本输入框或密码输入框时，会为输入框新增onchange事件处理器，触发后将记录为input命令。
- [x] 选择：当点击元素为下拉选择时，会为该元素新增onchange事件处理器， 触发后将记录为select命令。
- [ ] 双击
- [ ] 拖拽
- [ ] 鼠标滚动



**支持编辑的动作**

- 触发焦点
- 失去焦点



**支持等待的项目**

- 元素出现
- 元素消失
- 页面URL
- 元素文字



**支持的验证**

- 元素文字



**工作流程**

1. 该扩展由webdriver启动时安装
2. 浏览器启动后，跳转到录制启动页面， 准备输入URL连接
3. URL连接输入后， 启动录制， 
4. 录制启动后， 建立webservice连接到本地动作接收的服务器
5. 每个动作触发后在控制台终端输出， 并通过webservice传递给服务器
6. 扩展的Popup窗口为工具栏， 用于修改/插入额外的动作， 例如触发焦点
7. 录制第一个动作后， 缓存一下， 这个时候用户可能点击修改， 第二个动作完成后， 提交第一个动作。



**文件说明**

- newtab.html 浏览器启动后显示该页面，用户输入地址，点击录制按钮后开始录制



**记事本**

- websocket的地址目前是写死的 `ws://127.0.0.1:60000/` 这个地址，后面将会改成可配置

打开chrome录制器的方式

chrome.exe --load-extension=D:\Flashin\荀彧\xunyu\chrome-ext chrome-extension://apajegcajemgenjoijknmifjbegjebno/newtab.html